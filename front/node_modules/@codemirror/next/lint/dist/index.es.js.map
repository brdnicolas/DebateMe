{"version":3,"file":"index.es.js","sources":["../src/lint.ts"],"sourcesContent":["import {EditorView, ViewPlugin, Decoration, DecorationSet, MarkDecorationSpec,\n        WidgetDecorationSpec, WidgetType, ViewUpdate, Command, themeClass} from \"../../view\"\nimport {Annotation, EditorSelection, StateField, Extension} from \"../../state\"\nimport {hoverTooltip} from \"../../tooltip\"\nimport {panels, Panel, showPanel} from \"../../panel\"\n\n/// Describes a problem or hint for a piece of code.\nexport interface Diagnostic {\n  /// The start position of the relevant text.\n  from: number\n  /// The end position. May be equal to `from`, though actually\n  /// covering text is preferable.\n  to: number\n  /// The severity of the problem. This will influence how it is\n  /// displayed.\n  severity: \"info\" | \"warning\" | \"error\"\n  /// An optional source string indicating where the diagnostic is\n  /// coming from. You can put the name of your linter here, if\n  /// applicable.\n  source?: string\n  /// The message associated with this diagnostic.\n  message: string\n  /// An optional array of actions that can be taken on this\n  /// diagnostic.\n  actions?: readonly Action[]\n}\n\n/// An action associated with a diagnostic.\nexport interface Action {\n  /// The label to show to the user. Should be relatively short.\n  name: string\n  /// The function to call when the user activates this action. Is\n  /// given the diagnostic's _current_ position, which may have\n  /// changed since the creation of the diagnostic due to editing.\n  apply: (view: EditorView, from: number, to: number) => void\n}\n\nclass SelectedDiagnostic {\n  constructor(readonly from: number, readonly to: number, readonly diagnostic: Diagnostic) {}\n}\n\nclass LintState {\n  constructor(readonly diagnostics: DecorationSet,\n              readonly panel: ((view: EditorView) => Panel) | null,\n              readonly selected: SelectedDiagnostic | null) {}\n}\n\nfunction findDiagnostic(diagnostics: DecorationSet, diagnostic: Diagnostic | null = null, after = 0): SelectedDiagnostic | null {\n  let found: SelectedDiagnostic | null = null\n  diagnostics.between(after, diagnostics.length, (from, to, {spec}) => {\n    if (diagnostic && spec.diagnostic != diagnostic) return\n    found = new SelectedDiagnostic(from, to, spec.diagnostic)\n    return false\n  })\n  return found\n}\n\n/// Transaction annotation that is used to update the current set of\n/// diagnostics.\nexport const setDiagnostics = Annotation.define<readonly Diagnostic[]>()\n\nconst setState = Annotation.define<LintState>()\n\nconst lintState = StateField.define<LintState>({\n  create() {\n    return new LintState(Decoration.none, null, null)\n  },\n  update(value, tr) {\n    let setDiag = tr.annotation(setDiagnostics)\n    if (setDiag) {\n      let ranges = Decoration.set(setDiag.map(d => {\n        return d.from < d.to\n          ? Decoration.mark({\n            attributes: {class: themeClass(\"lintRange.\" + d.severity)},\n            diagnostic: d\n          } as MarkDecorationSpec).range(d.from, d.to)\n          : Decoration.widget({\n            widget: new DiagnosticWidget(d),\n            diagnostic: d\n          } as WidgetDecorationSpec).range(d.from)\n      }))\n      return new LintState(ranges, value.panel, findDiagnostic(ranges))\n    }\n\n    let newState = tr.annotation(setState)\n    if (newState) return newState\n\n    if (tr.docChanged) {\n      let mapped = value.diagnostics.map(tr.changes), selected = null\n      if (value.selected) {\n        let selPos = tr.changes.mapPos(value.selected.from, 1)\n        selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos)\n      }\n      return new LintState(mapped, value.panel, selected)\n    }\n\n    return value\n  }\n}).provideN(showPanel, s => s.panel ? [s.panel] : [])\n  .provide(EditorView.decorations, s => s.diagnostics)\n\nconst activeMark = Decoration.mark({class: themeClass(\"lintRange.active\")})\n\n/// Returns an extension that enables the linting functionality.\n/// Implicitly enabled by the [`linter`](#lint.linter) function.\nexport function linting(): Extension {\n  return [\n    lintState,\n    EditorView.decorations.compute([lintState], state => {\n      let {selected, panel} = state.field(lintState)\n      return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n        activeMark.range(selected.from, selected.to)\n      ])\n    }),\n    panels(),\n    hoverTooltip(lintTooltip),\n    baseTheme\n  ]\n}\n\nfunction lintTooltip(view: EditorView, check: (from: number, to: number) => boolean) {\n  let {diagnostics} = view.state.field(lintState)\n  let found: Diagnostic[] = [], stackStart = 2e8, stackEnd = 0\n  diagnostics.between(0, view.state.doc.length, (start, end, {spec}) => {\n    if (check(start, end)) {\n      found.push(spec.diagnostic)\n      stackStart = Math.min(start, stackStart)\n      stackEnd = Math.max(end, stackEnd)\n    }\n  })\n  if (!found.length) return null\n\n  return {\n    start: stackStart, end: stackEnd,\n    tooltip(view: EditorView) {\n      let dom = document.createElement(\"ul\")\n      for (let d of found) dom.appendChild(renderDiagnostic(view, d))\n      return {\n        pos: stackStart,\n        dom,\n        style: \"lint\",\n        hideOnChange: true\n      }\n    }\n  }\n}\n\n/// Command to open and focus the lint panel.\nexport const openLintPanel: Command = (view: EditorView) => {\n  let field = view.state.field(lintState, false)\n  if (!field) return false\n  if (!field.panel)\n    view.dispatch(view.state.t().annotate(setState, new LintState(field.diagnostics, LintPanel.open, field.selected)))\n  if (view.state.field(lintState).panel)\n    (view.dom.querySelector(\".cm-panel-lint ul\") as HTMLElement).focus()\n  return true\n}\n\n/// Command to close the lint panel, when open.\nexport const closeLintPanel: Command = (view: EditorView) => {\n  let field = view.state.field(lintState, false)\n  if (!field || !field.panel) return false\n  view.dispatch(view.state.t().annotate(setState, new LintState(field.diagnostics, null, field.selected)))\n  return true\n}\n\nconst LintDelay = 500\n\n/// Given a diagnostic source, this function returns an extension that\n/// enables linting with that source. It will be called whenever the\n/// editor is idle (after its content changed).\nexport function linter(source: (view: EditorView) => readonly Diagnostic[]): Extension {\n  const runLintPlugin = ViewPlugin.fromClass(class {\n    lintTime = Date.now() + LintDelay\n    set = true\n\n    constructor(readonly view: EditorView) {\n      this.run = this.run.bind(this)\n      setTimeout(this.run, LintDelay)\n    }\n\n    run() {\n      let now = Date.now()\n      if (now < this.lintTime - 10) {\n        setTimeout(this.run, this.lintTime - now)\n      } else {\n        this.set = false\n        // FIXME support async sources\n        this.view.dispatch(this.view.state.t().annotate(setDiagnostics, source(this.view)))\n      }\n    }\n\n    update(update: ViewUpdate) {\n      if (update.docChanged) {\n        this.lintTime = Date.now() + LintDelay\n        if (!this.set) {\n          this.set = true\n          setTimeout(this.run, LintDelay)\n        }\n      }\n    }\n  })\n  return [\n    runLintPlugin,\n    linting()\n  ]\n}\n\nfunction renderDiagnostic(view: EditorView, diagnostic: Diagnostic) {\n  let dom = document.createElement(\"li\")\n  dom.textContent = diagnostic.message\n  dom.className = themeClass(\"diagnostic.\" + diagnostic.severity)\n  if (diagnostic.actions) for (let action of diagnostic.actions) {\n    let button = dom.appendChild(document.createElement(\"button\"))\n    button.className = themeClass(\"diagnosticAction\")\n    button.textContent = action.name\n    button.onclick = button.onmousedown = e => {\n      e.preventDefault()\n      let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic)\n      if (found) action.apply(view, found.from, found.to)\n    }\n  }\n  // FIXME render source?\n  return dom\n}\n\nclass DiagnosticWidget extends WidgetType<Diagnostic> {\n  toDOM() {\n    let elt = document.createElement(\"span\")\n    elt.className = themeClass(\"lintPoint.\" + this.value.severity)\n    return elt\n  }\n}\n\nclass PanelItem {\n  id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16)\n  dom: HTMLElement\n\n  constructor(view: EditorView, readonly diagnostic: Diagnostic) {\n    this.dom = renderDiagnostic(view, diagnostic)\n    this.dom.setAttribute(\"role\", \"option\")\n  }\n}\n\nclass LintPanel implements Panel {\n  items: PanelItem[] = []\n  dom: HTMLElement\n  list: HTMLElement\n\n  constructor(readonly view: EditorView) {\n    this.dom = document.createElement(\"div\")\n    this.list = this.dom.appendChild(document.createElement(\"ul\"))\n    this.list.tabIndex = 0\n    this.list.setAttribute(\"role\", \"listbox\")\n    this.list.setAttribute(\"aria-label\", this.view.phrase(\"Diagnostics\"))\n    this.list.addEventListener(\"keydown\", event => {\n      if (event.keyCode == 27) { // Escape\n        event.preventDefault()\n        closeLintPanel(this.view)\n        this.view.focus()\n      } else if (event.keyCode == 38) { // ArrowUp\n        event.preventDefault()\n        this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length)\n      } else if (event.keyCode == 40) { // ArrowDown\n        event.preventDefault()\n        this.moveSelection((this.selectedIndex + 1) % this.items.length)\n      } else if (event.keyCode == 36) { // Home\n        event.preventDefault()\n        this.moveSelection(0)\n      } else if (event.keyCode == 35) { // End\n        event.preventDefault()\n        this.moveSelection(this.items.length - 1)\n      } else if (event.keyCode == 13) {\n        event.preventDefault()\n        this.view.focus()\n      } // FIXME PageDown/PageUp\n    })\n    this.list.addEventListener(\"click\", event => {\n      for (let i = 0; i < this.items.length; i++) {\n        if (this.items[i].dom.contains(event.target as HTMLElement))\n          this.moveSelection(i)\n      }\n    })\n    let close = this.dom.appendChild(document.createElement(\"button\"))\n    close.setAttribute(\"name\", \"close\")\n    close.setAttribute(\"aria-label\", this.view.phrase(\"close\"))\n    close.textContent = \"Ã—\"\n    close.addEventListener(\"click\", () => closeLintPanel(this.view))\n\n    this.update()\n  }\n\n  get selectedIndex() {\n    let selected = this.view.state.field(lintState).selected\n    if (!selected) return -1\n    for (let i = 0; i < this.items.length; i++) if (this.items[i].diagnostic == selected.diagnostic) return i\n    return -1\n  }\n\n  update() {\n    let {diagnostics, selected} = this.view.state.field(lintState)\n    let i = 0, needsSync = false, newSelectedItem: PanelItem | null = null\n    diagnostics.between(0, this.view.state.doc.length, (_start, _end, {spec}) => {\n      let found = -1, item\n      for (let j = i; j < this.items.length; j++)\n        if (this.items[j].diagnostic == spec.diagnostic) { found = j; break }\n      if (found < 0) {\n        item = new PanelItem(this.view, spec.diagnostic)\n        this.items.splice(i, 0, item)\n        needsSync = true\n      } else {\n        item = this.items[found]\n        if (found > i) { this.items.splice(i, found - i); needsSync = true }\n      }\n      if (selected && item.diagnostic == selected.diagnostic) {\n        if (!item.dom.hasAttribute(\"aria-selected\")) {\n          item.dom.setAttribute(\"aria-selected\", \"true\")\n          newSelectedItem = item\n        }\n      } else if (item.dom.hasAttribute(\"aria-selected\")) {\n        item.dom.removeAttribute(\"aria-selected\")\n      }\n      i++\n    })\n    while (i < this.items.length) this.items.pop()\n    if (newSelectedItem) {\n      this.list.setAttribute(\"aria-activedescendant\", newSelectedItem!.id)\n      this.view.requestMeasure({\n        key: this,\n        read: () => ({sel: newSelectedItem!.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect()}),\n        write: ({sel, panel}) => {\n          if (sel.top < panel.top) this.list.scrollTop -= panel.top - sel.top\n          else if (sel.bottom > panel.bottom) this.list.scrollTop += sel.bottom - panel.bottom\n        }\n      })\n    } else if (!this.items.length) {\n      this.list.removeAttribute(\"aria-activedescendant\")\n    }\n    if (needsSync) this.sync()\n  }\n\n  sync() {\n    let domPos: ChildNode | null = this.list.firstChild\n    function rm() {\n      let prev = domPos!\n      domPos = prev.nextSibling\n      prev.remove()\n    }\n\n    for (let item of this.items) {\n      if (item.dom.parentNode == this.list) {\n        while (domPos != item.dom) rm()\n        domPos = item.dom.nextSibling\n      } else {\n        this.list.insertBefore(item.dom, domPos)\n      }\n    }\n    while (domPos) rm()\n    if (!this.list.firstChild) this.list.appendChild(renderDiagnostic(this.view, {\n      severity: \"info\",\n      message: this.view.phrase(\"No diagnostics\")\n    } as Diagnostic))\n  }\n\n  moveSelection(selectedIndex: number) {\n    // FIXME make actions accessible\n    if (this.items.length == 0) return\n    let field = this.view.state.field(lintState)\n    let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic)\n    if (!selection) return\n    this.view.dispatch(this.view.state.t()\n                       .setSelection(EditorSelection.single(selection.from, selection.to))\n                       .scrollIntoView()\n                       .annotate(setState, new LintState(field.diagnostics, field.panel, selection)))\n  }\n\n  get style() { return \"lint\" }\n\n  static open(view: EditorView) { return new LintPanel(view) }\n}\n\nfunction underline(color: string) {\n  let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"6\" height=\"3\">\n    <path d=\"m0 3 l2 -2 l1 0 l2 2 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>\n  </svg>`\n  return `url('data:image/svg+xml;base64,${btoa(svg)}')`\n}\n\nconst baseTheme = EditorView.baseTheme({\n  diagnostic: {\n    padding: \"3px 6px 3px 8px\",\n    marginLeft: \"-1px\",\n    display: \"block\"\n  },\n  \"diagnostic.error\": { borderLeft: \"5px solid #d11\" },\n  \"diagnostic.warning\": { borderLeft: \"5px solid orange\" },\n  \"diagnostic.info\": { borderLeft: \"5px solid #999\" },\n\n  diagnosticAction: {\n    font: \"inherit\",\n    border: \"none\",\n    padding: \"2px 4px\",\n    background: \"#444\",\n    color: \"white\",\n    borderRadius: \"3px\",\n    marginLeft: \"8px\"\n  },\n\n  lintRange: {\n    backgroundPosition: \"left bottom\",\n    backgroundRepeat: \"repeat-x\"\n  },\n\n  \"lintRange.error\": { backgroundImage: underline(\"#d11\") },\n  \"lintRange.warning\": { backgroundImage: underline(\"orange\") },\n  \"lintRange.info\": { backgroundImage: underline(\"#999\") },\n  \"lintRange.active\": { backgroundColor: \"#fec\" },\n\n  lintPoint: {\n    position: \"relative\",\n\n    \"&:after\": {\n      content: '\"\"',\n      position: \"absolute\",\n      bottom: 0,\n      left: \"-2px\",\n      borderLeft: \"3px solid transparent\",\n      borderRight: \"3px solid transparent\",\n      borderBottom: \"4px solid #d11\"\n    }\n  },\n\n  \"lintPoint.warning\": {\n    \"&:after\": { borderBottomColor: \"orange\" }\n  },\n  \"lintPoint.info\": {\n    \"&:after\": { borderBottomColor: \"#999\" }\n  },\n\n  \"panel.lint\": {\n    position: \"relative\",\n    \"& ul\": {\n      maxHeight: \"100px\",\n      overflowY: \"auto\",\n      \"& [aria-selected]\": {\n        background: \"#ddd\"\n      },\n      \"&:focus [aria-selected]\": {\n        background_fallback: \"#bdf\",\n        background: \"Highlight\",\n        color_fallback: \"white\",\n        color: \"HighlightText\"\n      },\n      padding: 0,\n      margin: 0\n    },\n    \"& [name=close]\": {\n      position: \"absolute\",\n      top: \"0\",\n      right: \"2px\",\n      background: \"inherit\",\n      border: \"none\",\n      font: \"inherit\",\n      padding: 0,\n      margin: 0\n    }\n  },\n\n  \"tooltip.lint\": {\n    padding: 0,\n    margin: 0\n  }\n})\n"],"names":[],"mappings":"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"}